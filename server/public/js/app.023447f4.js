(function(e){function t(t){for(var a,r,o=t[0],u=t[1],c=t[2],d=0,p=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);l&&l(t);while(p.length)p.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var u=n[o];0!==i[u]&&(a=!1)}a&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},i={app:0},s=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("85ec"),i=n.n(a);i.a},1082:function(e,t,n){},"3d58":function(e,t,n){"use strict";var a=n("a6a5"),i=n.n(a);i.a},4622:function(e,t,n){},"4e21":function(e,t,n){"use strict";var a=n("4622"),i=n.n(a);i.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("nav",{staticClass:"cont"},[e._m(0),n("p",[e._v("A quiz for every day of the week - if your week only has 5 days")]),n("button",{staticClass:"add-quiz",on:{click:e.displayForm}},[e._v("Add Pub Quiz")])]),e.showModal?n("add-pub-form",{staticClass:"add-pub-form"}):e._e(),e.showModal?n("i",{on:{click:e.hideForm}},[e._v("Ã—")]):e._e(),n("day-filter"),n("pub-quiz-map",{attrs:{selectedDay:e.selectedDay,quizzes:e.quizzes,selectedDayQuizzes:e.selectedDayQuizzes}})],1)},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[n("a",{staticClass:"logo-link",attrs:{href:"http://localhost:8080/"}},[e._v("PUB QUIZ BUDDY")])])}],r=(n("d3b7"),"api/pubQuizzes"),o={getQuizzes:function(){return fetch(r).then((function(e){return e.json()}))},getQuizzesByDay:function(e){return fetch("".concat(r,"/day/").concat(e)).then((function(e){return e.json()}))},postPubQuiz:function(e){return fetch(r,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))}},u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"days-nav"},[n("ul",e._l(e.daysOfTheWeek,(function(t){return n("day-filter-list-item",{attrs:{day:t,isSelectedProp:e.selectedDay===t}})})),1)])},c=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"nav-item",class:{active:e.isSelectedProp},attrs:{value:e.day},on:{click:function(t){return e.handleClick()}}},[e._v(e._s(e.day))])},d=[],p={name:"day-filter-list-item",props:["day","isSelectedProp"],methods:{handleClick:function(){Z.$emit("selected-day",this.day)}}},f=p,m=(n("727d"),n("2877")),h=Object(m["a"])(f,l,d,!1,null,"d13161ea",null),v=h.exports,y={name:"days-filter",data:function(){return{daysOfTheWeek:["All Quizzes","monday","tuesday","wednesday","thursday","friday"],selectedDay:null}},mounted:function(){var e=this;Z.$on("selected-day",(function(t){e.selectedDay=t})),Z.$on("pub-quiz-added",(function(t){return e.selectedDay=t.day}))},components:{"day-filter-list-item":v}},z=y,b=(n("4e21"),Object(m["a"])(z,u,c,!1,null,"4b823fb2",null)),_=b.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"map-container"},[n("pub-quiz-details",{attrs:{quizId:e.selectedPubId,quizzes:e.quizzes}}),n("GmapMap",{attrs:{center:e.mapCenter,zoom:13.5,"map-type-id":"roadmap"}},e._l(e.markers,(function(e,t){return n("marker-pin",{attrs:{marker:e,index:t}})})),1)],1)])},g=[],D=(n("4160"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.quizId?n("div",{staticClass:"details-box"},[n("div",{attrs:{id:"pub-info-container"}},[n("h1",[e._v(e._s(e.selectedQuiz.pub))]),n("p",[e._v(e._s(e.selectedQuiz.day))]),n("div",{staticClass:"details-inner-container"},[n("h2",[e._v("Address:")]),n("p",[e._v(e._s(e.selectedQuiz.address))])]),n("div",{staticClass:"details-inner-container"},[n("h2",[e._v("Time:")]),n("p",[e._v(e._s(e.selectedQuiz.time))])]),n("button",{staticClass:"close-button",on:{click:e.closeDetailWindow}},[e._v("CLOSE")])])]):e._e()}),w=[],$=(n("7db0"),{name:"pub-quiz-details",props:["quizId","quizzes"],computed:{selectedQuiz:function(){var e=this,t=this.quizzes.find((function(t){return t._id===e.quizId}));return t}},methods:{closeDetailWindow:function(){Z.$emit("close-info-window")}}}),Q=$,q=(n("3d58"),Object(m["a"])(Q,D,w,!1,null,"707002e2",null)),O=q.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("GmapMarker",{key:e.index,ref:"marker",attrs:{clickable:!0,draggable:!1,animation:0,position:e.marker.position},on:{click:function(t){return e.handleMarkerClick(e.marker.id)},mouseover:e.bounceOnHover,mouseout:e.mouseOffMarker}})},x=[],j={name:"marker-pin",props:["marker","index"],data:function(){return{active:!1}},methods:{bounceOnHover:function(){this.$refs.marker.$markerObject.setAnimation("1")},mouseOffMarker:function(){this.active||this.$refs.marker.$markerObject.setAnimation("0")},handleMarkerClick:function(e){this.active=!0,Z.$emit("marker-clicked",e),this.$refs.marker.$markerObject.setAnimation("1")},stopBounce:function(e){this.marker.id!==e&&(this.active=!1,this.$refs.marker&&this.$refs.marker.$markerObject.setAnimation("0"))}},mounted:function(){Z.$on("marker-clicked",this.stopBounce),Z.$on("selected-day",this.stopBounce),Z.$on("close-info-window",this.stopBounce)}},C=j,M=Object(m["a"])(C,P,x,!1,null,"374bf6a0",null),A=M.exports,S={name:"pub-quiz-map",props:["quizzes","selectedDay","selectedDayQuizzes"],data:function(){return{mapCenter:{lat:55.95079,lng:-3.195131},selectedPubId:""}},computed:{markers:function(){var e=[],t=function(t){t.forEach((function(t){var n={id:t._id,position:{lat:t.location.lat,lng:t.location.lng}};e.push(n)}))};return"All Quizzes"===this.selectedDay?t(this.quizzes):this.selectedDayQuizzes?t(this.selectedDayQuizzes):t(this.quizzes),e}},mounted:function(){var e=this;Z.$on("close-info-window",(function(){return e.selectedPubId=null})),Z.$on("selected-day",(function(){return e.selectedPubId=null})),Z.$on("marker-clicked",(function(t){return e.selectedPubId=t}))},components:{"pub-quiz-details":O,"marker-pin":A}},I=S,T=(n("d463"),Object(m["a"])(I,k,g,!1,null,"76316461",null)),B=T.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{attrs:{action:"index.html",method:"post"},on:{submit:e.addPubQuiz}},[n("div",{staticClass:"form"},[n("label",{attrs:{for:"pub"}},[e._v("Pub")]),n("input",{ref:"autocomplete",staticClass:"search-location",attrs:{placeholder:"Search",onfocus:"value = ''",type:"text",country:"gb"}}),n("label",{attrs:{for:"quiz"}},[e._v("Day of Quiz")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.day,expression:"day"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.day=t.target.multiple?n:n[0]}}},[n("option",{attrs:{name:"day",value:"monday"}},[e._v("Monday")]),n("option",{attrs:{name:"day",value:"tuesday"}},[e._v("Tuesday")]),n("option",{attrs:{name:"day",value:"wednesday"}},[e._v("Wednesday")]),n("option",{attrs:{name:"day",value:"thursday"}},[e._v("Thursday")]),n("option",{attrs:{name:"day",value:"friday"}},[e._v("Friday")])]),n("label",{attrs:{for:"time"}},[e._v("Time of Quiz")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.time,expression:"time"}],attrs:{type:"time",name:"time",min:"18:00",max:"23:00"},domProps:{value:e.time},on:{input:function(t){t.target.composing||(e.time=t.target.value)}}}),n("label",{attrs:{for:""}},[e._v("Student Discount")]),n("div",{staticClass:"discount-radio-wrap"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.studentDiscount,expression:"studentDiscount"}],attrs:{type:"radio",value:"true"},domProps:{checked:e._q(e.studentDiscount,"true")},on:{change:function(t){e.studentDiscount="true"}}}),e._v("Yes"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.studentDiscount,expression:"studentDiscount"}],attrs:{type:"radio",value:"false"},domProps:{checked:e._q(e.studentDiscount,"false")},on:{change:function(t){e.studentDiscount="false"}}}),e._v("No")]),n("label",{attrs:{for:"prize"}},[e._v("Prize")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.prize,expression:"prize"}],attrs:{type:"text",name:"prize"},domProps:{value:e.prize},on:{input:function(t){t.target.composing||(e.prize=t.target.value)}}}),n("input",{attrs:{type:"submit"}})])])},N=[],F=(n("b0c0"),n("28b9")),W={name:"add-pub-form",data:function(){return{pub:"",address:"",day:"",time:"",studentDiscount:null,prize:"",location:{lat:0,lng:0}}},methods:{addPubQuiz:function(e){e.preventDefault();var t={pub:this.pub,address:this.address,day:this.day,time:this.time,studentDiscount:this.studentDiscount,prize:this.prize,location:{lat:this.location.lat,lng:this.location.lng}};o.postPubQuiz(t).then((function(e){return Z.$emit("pub-quiz-added",e)}))}},mounted:function(){var e=this;this.autocomplete=new google.maps.places.Autocomplete(this.$refs.autocomplete,{types:["establishment"]}),this.autocomplete.addListener("place_changed",(function(){var t=e.autocomplete.getPlace(),n=t.name,a=(t.address_components[0],t.geometry.location.lat()),i=t.geometry.location.lng();e.address=t.formatted_address,e.location.lat=a,e.location.lng=i,e.pub=n}))},components:{Places:F["a"]}},G=W,J=(n("60de"),Object(m["a"])(G,E,N,!1,null,"7489c272",null)),U=J.exports,H={name:"app",data:function(){return{quizzes:[],selectedDay:"",selectedDayQuizzes:null,showModal:!1}},methods:{fetchQuizzes:function(){var e=this;o.getQuizzes().then((function(t){return e.quizzes=t}))},displayForm:function(e){this.showModal=!0},hideForm:function(e){this.showModal=!1}},mounted:function(){var e=this;this.fetchQuizzes(),Z.$on("selected-day",(function(t){e.selectedDay=t,o.getQuizzesByDay(e.selectedDay).then((function(t){return e.selectedDayQuizzes=t}))})),Z.$on("pub-quiz-added",(function(t){e.showModal=!1,e.quizzes.push(t),e.selectedDay=t.day,e.fetchQuizzes(),o.getQuizzesByDay(t.day).then((function(t){return e.selectedDayQuizzes=t}))}))},components:{"day-filter":_,"pub-quiz-map":B,"add-pub-form":U}},K=H,L=(n("034f"),Object(m["a"])(K,i,s,!1,null,null,null)),Y=L.exports,X=n("755e");n.d(t,"eventBus",(function(){return Z})),n("fbdb");var Z=new a["a"];a["a"].config.productionTip=!1,a["a"].use(X,{load:{key:key,libraries:"places"}}),new a["a"]({render:function(e){return e(Y)}}).$mount("#app")},"579c":function(e,t,n){},"60de":function(e,t,n){"use strict";var a=n("7016"),i=n.n(a);i.a},7016:function(e,t,n){},"727d":function(e,t,n){"use strict";var a=n("1082"),i=n.n(a);i.a},"85ec":function(e,t,n){},a6a5:function(e,t,n){},d463:function(e,t,n){"use strict";var a=n("579c"),i=n.n(a);i.a},fbdb:function(e,t){key="AIzaSyAtTmi7K5DkqGml9K3bkIh074vptABFzXM"}});
//# sourceMappingURL=app.023447f4.js.map